.container.mt-4(style="max-width: 1280px;")
    .page-header.d-print-none.mb-4
        .row.align-items-center
            .col
                .page-pretitle DIZEST Datahub
                h2.page-title {{dizest.data.title}}

            .col-auto.ms-auto.d-print-none
                .btn-list
                    a.btn.btn-link(href="/dizest/logout")
                        i.fas.fa-sign-out-alt
                        span.d-none.d-sm-inline-block Logout
                        
                    a.btn.btn-primary(href="/dizest/list")
                        i.fas.fa-list.mr-1
                        span.d-none.d-sm-inline-block List

                    a.btn.btn-primary(href="/dizest/editor/{{dizest.data.id}}")
                        i.fas.fa-code.mr-1
                        span.d-none.d-sm-inline-block Editor


    .row
        .col-md-9.pr-4.pb-4
            div(ng-repeat="stage in dizest.data.stage track by $index")
                .card.stage-card
                    .card-header.bg-primary.text-white
                        h3.card-title {{stage.title}}

                    iframe.preview(id="stage-{{stage.id}}")

                .p-3.text-center.text-primary(ng-if="$index < dizest.data.stage.length - 1")
                    i.fas.fa-arrow-alt-circle-down(style="font-size: 32px;")
        
        .col-md-3
            .card.card-sm.mb-3
                .card-body
                    label.form-label(style="font-family: 'MAIN-EB'") ID
                    input.form-control(type='text' ng-model="dizest.data.id" autocomplete='off' disabled)

                .card-body
                    label.form-label(style="font-family: 'MAIN-EB'") Title
                    input.form-control(type='text' placeholder='Workspace Title' ng-model="dizest.data.title" autocomplete='off')
                
                .card-body
                    label.form-label(style="font-family: 'MAIN-EB'") Description
                    textarea.form-control(rows=5 placeholder='Workspace Description' ng-model="dizest.data.description" autocomplete='off')

                .card-footer
                    button.btn.btn-block.btn-primary(ng-click="dizest.save()") Save
                
                .card-footer
                    button.btn.btn-block.btn-outline-red(ng-click="dizest.delete()") Delete

    #modal-delete.modal.fade(tabindex="-1")
        .modal-dialog.modal-sm(role='document')
            .modal-content
                .modal-body
                    .modal-title Delete
                    div Once deleted, it cannot be restored. Are you sure you want to delete?
                .modal-footer
                    button.btn.btn-link.link-secondary.mr-auto(ng-click="dizest.modal_close()") Cancel
                    button.btn.btn-danger(ng-click="dizest.delete(true)") Delete