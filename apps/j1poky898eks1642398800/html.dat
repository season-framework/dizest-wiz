.page
    .display-none(style="display: none;")
        input#import-file(type="file" accept=".dz")
        
    header.navbar.navbar-expand-md.navbar-light.d-print-none
        .container-xl
            button.navbar-toggler(type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu")
                span.navbar-toggler-icon

            a.navbar-brand.navbar-brand-autodark.d-none-navbar-horizontal.pe-0.pe-md-3
                img.navbar-brand-image(src="/resources/themes/dizest/img/logo.png" height="32" alt="DIZEST")
                span.badge.bg-primary.ml-1 {{dizest.data.title}}

            .navbar-nav.flex-row.order-md-last
                .nav-item.d-none.d-md-flex.me-3
                    .btn-list
                        a.btn(href="https://github.com/season-framework/dizest" target="_blank" rel="noreferrer")
                            i.fab.fa-github
                            | Source code
                        a.btn(href="/dizest/logout")
                            i.fas.fa-sign-out-alt
                            | Logout
                        a.btn(href="/dizest/list")
                            i.fas.fa-list
                            span.d-none.d-sm-inline-block List
                        a.btn.btn-primary(href="/dizest/editor/{{dizest.data.id}}")
                            i.fas.fa-code.mr-1
                            span.d-none.d-sm-inline-block Editor
        
    .container.pt-4.pb-4(style="max-width: 1280px;")
        .row
            .col-md-9.pr-4
                div(ng-repeat="stage in dizest.data.stage track by $index")
                    .card.stage-card
                        .card-header.bg-primary.text-white
                            h3.card-title {{stage.title}}

                        iframe.preview(id="stage-{{stage.id}}")

                    .p-3.text-center.text-primary(ng-if="$index < dizest.data.stage.length - 1")
                        i.fas.fa-arrow-alt-circle-down(style="font-size: 32px;")
            
            .col-md-3.pr-4
                .card.card-sm.mb-3
                    .card-body
                        label.form-label(style="font-family: 'MAIN-EB'") ID
                        input.form-control(type='text' ng-model="dizest.data.id" autocomplete='off' disabled)

                    .card-body
                        label.form-label(style="font-family: 'MAIN-EB'") Title
                        input.form-control(type='text' placeholder='Workspace Title' ng-model="dizest.data.title" autocomplete='off')
                    
                    .card-body
                        label.form-label(style="font-family: 'MAIN-EB'") Description
                        textarea.form-control(rows=5 placeholder='Workspace Description' ng-model="dizest.data.description" autocomplete='off')

                    .card-footer
                        button.btn.btn-block.btn-primary(ng-click="dizest.save()") Save
                    
                    .card-footer.d-flex
                        a.btn.btn-block.btn-link(ng-click="import_file()") Import
                        a.btn.btn-block.btn-link(ng-href="/dizest/export/{{wizdata.mode}}/{{ wizdata.namespace }}" target="_blank") Export
                    
                    .card-footer
                        button.btn.btn-block.btn-outline-red(ng-click="dizest.delete()") Delete

        #modal-delete.modal.fade(tabindex="-1")
            .modal-dialog.modal-sm(role='document')
                .modal-content
                    .modal-body
                        .modal-title Delete
                        div Once deleted, it cannot be restored. Are you sure you want to delete?
                    .modal-footer
                        button.btn.btn-link.link-secondary.mr-auto(ng-click="dizest.modal_close()") Cancel
                        button.btn.btn-danger(ng-click="dizest.delete(true)") Delete